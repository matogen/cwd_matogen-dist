import{M as f,H as g,C as v}from"./mobile-burger-menu-1a3a3402.js";class y{init(){this.preloader(),this.heroAnimation(),this.initSlick(),this.checkScrollPosition(),this.initScrollers(),this.initIndustryExpander(),this.initBioViewer(),this.initMobileAccordion(),this.updateDates(),new f().initMobileMenu(),new g(".card")}initMobileAccordion(){document.addEventListener("click",e=>{const i=e.target,t=i.closest(".dropdown-title");if(console.log("Clicked element:",i),console.log("Found trigger:",t),!t)return;if(window.innerWidth>680){console.log("Ignored - not mobile");return}e.preventDefault(),e.stopPropagation();const o=t.closest(".dropdown-column");console.log("Found column:",o),o&&(document.querySelectorAll(".dropdown-column").forEach(n=>{var s;n!==o&&(n.classList.remove("active"),(s=n.querySelector(".dropdown-title"))==null||s.classList.remove("active"))}),o.classList.toggle("active"),t.classList.toggle("active"),console.log("Toggled active state"))})}preloader(){document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("preloader");e&&setTimeout(function(){e.style.animation="bounce 2s infinite",setTimeout(function(){e.style.display="none"},1500)},700)})}heroAnimation(){const i=document.querySelector(".hero"),t=window.innerWidth>680;!i||!t||i.addEventListener("mousemove",o=>{const n=o.clientX-window.innerWidth/2,s=o.clientY-window.innerHeight/2,c=n/window.innerWidth*10,a=s/window.innerHeight*10;i.style.backgroundPosition=`${50+c}% ${60+a}%`})}initSlick(){$(".logo-slider").slick({slidesToShow:5,slidesToScroll:1,autoplay:!0,speed:3e3,arrows:!1,autoplaySpeed:0,variableWidth:!0,responsive:[{breakpoint:1100,settings:{slidesToShow:4}},{breakpoint:680,settings:{slidesToShow:3}},{breakpoint:580,settings:{slidesToShow:1}}]}),$(".testimonial-slider").slick({dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0,fade:!0,cssEase:"linear",adaptiveHeight:!0,prevArrow:'<button type="button" class="slick-prev" aria-label="Previous"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg></button>',nextArrow:'<button type="button" class="slick-next" aria-label="Next"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg></button>',responsive:[{breakpoint:768,settings:{arrows:!1,dots:!0}}]}),$(".success-stories-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!0,infinite:!0,autoplay:!0,autoplaySpeed:4e3,fade:!0,cssEase:"linear"})}checkScrollPosition(){let e=!1,i=0,t=0;$(".handle").on("mousedown",o=>{e=!0,i=o.clientY,t=parseInt($(".handle").css("top"))||0,$(".handle").css("cursor","grabbing")}),$(document).on("mousemove",o=>{var n,s;if(e){o.preventDefault();const c=o.clientY-i,a=t+c,d=window.innerHeight,r=d/6/2,p=d,u=Math.min(p,Math.max(r,a));$(".handle").css("top",u);const l=((s=(n=$("#division-sections"))==null?void 0:n.offset())==null?void 0:s.top)||0,w=$("#division-sections").outerHeight()||1,m=(u-r)/(p-r)*w+l;window.scrollTo(0,m)}}),$(document).on("mouseup",()=>{e=!1,$(".handle").css("cursor","grab")}),document.addEventListener("scroll",()=>{var u,l;const o=$(window).scrollTop()||0,n=(l=(u=$("#division-sections"))==null?void 0:u.offset())==null?void 0:l.top,s=$("#division-sections").outerHeight();if(!o||!n||!s)return;const c=n+s-s/6;o>=n&&o<=c?$(".section-progress").addClass("is-visible"):$(".section-progress").removeClass("is-visible");const a=window.innerHeight,d=a/6/2,r=a,p=(o-n)/s*(r-d)+d;$(".handle").css("top",p)})}initScrollers(){this.initIndustryScroller(),this.initCardScroller()}initIndustryScroller(){const e=document.querySelector("#industries .motion-scroller"),i=e==null?void 0:e.querySelector(".viewport");!e||!i||e.addEventListener("mousemove",t=>{const o=t.clientX,n=i.offsetWidth,s=i.scrollWidth,c=o/n*s-n/2;i.scrollLeft=c})}initCardScroller(){const e=document.querySelector(".our-work .motion-scroller"),i=e==null?void 0:e.querySelector(".viewport");if(!e||!i)return;let t=!1,o,n,s=null;const a=(()=>window.innerWidth>2180?850:window.innerWidth>1280?300:window.innerWidth>768?200:100)(),d=150,r=i.querySelector(".content");if(!r)return;const p=l=>{const w=r.getBoundingClientRect(),m=l.clientX;s&&(window.clearInterval(s),s=null),!t&&(m<w.left+a?s=window.setInterval(()=>{r.scrollLeft-=d},1):m>w.right-a&&(s=window.setInterval(()=>{r.scrollLeft+=d},1)))},u=()=>{s&&(window.clearInterval(s),s=null)};r.addEventListener("mousedown",l=>{t=!0,r.style.cursor="grabbing",o=l.pageX-r.offsetLeft,n=r.scrollLeft,u()}),r.addEventListener("mouseleave",()=>{t=!1,r.style.cursor="grab",u()}),r.addEventListener("mouseup",()=>{t=!1,r.style.cursor="grab"}),r.addEventListener("mousemove",l=>{if(t){l.preventDefault();const m=(l.pageX-r.offsetLeft-o)*2;r.scrollLeft=n-m}else p(l)}),r.style.cursor="grab"}initIndustryExpander(){if(window.innerWidth<=640){const e=document.querySelectorAll(".item");e.forEach(i=>{const t=i.querySelector(".title");t&&t.addEventListener("click",o=>{o.preventDefault(),e.forEach(n=>{n==i?n.classList.toggle("open"):n.classList.remove("open")})})})}}updateDates(){const e=new v;e.current(),e.yearsSince()}initBioViewer(){$(document).on("click",".js-bio-more",e=>{const t=$(e.target).closest(".member");if(t.hasClass("is-expanded")){t.removeClass("is-expanded");return}t.addClass("is-expanded")})}}class L{async loadComponents(){const e=document.querySelectorAll("[data-component]");for(const i of e){const t=i.getAttribute("data-component");if(t)try{if(!/^[a-zA-Z0-9-_]+\.html$/.test(t))throw new Error("Invalid component filename");const o=await fetch(`/page-components/${t}`,{credentials:"omit",mode:"same-origin",headers:{Accept:"text/html"}});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const n=await o.text(),s=new DOMParser().parseFromString(n,"text/html").body.innerHTML;if(i.innerHTML=s,t==="footer.html"){const c=document.getElementById("current-year");c&&(c.textContent=new Date().getFullYear().toString())}}catch(o){console.error(`Error loading component ${t}:`,o)}}}constructor(){document.addEventListener("DOMContentLoaded",()=>this.loadComponents())}}export{y as A,L};
